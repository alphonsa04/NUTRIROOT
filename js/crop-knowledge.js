// Crop Reference JavaScript
// Comprehensive crop data and interactive functionality

const cropData = {
    rice: {
        name: "Rice",
        scientificName: "Oryza sativa",
        type: "Cereal Grain",
        season: "Kharif (June - November)",
        image: "assets/images/crops/rice_crop_1767766620922.png",
        description: "Rice is the most important staple food crop for more than half of the world's human population. It is a semi-aquatic annual grass plant designated as a Kharif crop in India.",
        landPreparation: "Plough the land 2-3 times to obtain a fine tilth. For transplanted rice, puddle the field (ploughing in standing water) to reduce percolation losses and control weeds. Level the field perfectly.",
        soilConservation: "Maintain field bunds to retain water. Incorporate green manure crops like Dhaincha or Sesbania to improve organic matter.",
        seedRate: "Transplanting: 30-40 kg/ha; Direct Seeding: 60-80 kg/ha; System of Rice Intensification (SRI): 5-8 kg/ha.",
        interculturalOperations: "Gap filling within 7-10 days of transplanting. Weeding at 20 and 40 days after planting. Top dressing of fertilizers at active tillering and panicle initiation stages.",
        harvesting: "Harvest when 80% grains become golden yellow and moisture content is 20-22%. Thresh immediately after harvest and dry usually to 14% moisture.",
    },
    wheat: {
        name: "Wheat",
        scientificName: "Triticum aestivum",
        type: "Cereal Grain",
        season: "Rabi (November - April)",
        image: "assets/images/crops/wheat_crop_1767766637999.png",
        description: "Wheat is a major source of starch and energy for people worldwide. It is a cool-season crop requiring cool weather for growth and warm weather for maturity.",
        landPreparation: "The field should be ploughed and harrowed 2-3 times to produce a pulverized  and compact seedbed. Pre-sowing irrigation (Palewa) is essential for uniform germination.",
        soilConservation: "Zero tillage technology can be adopted to conserve soil moisture and reduce erosion. Crop rotation with legumes is beneficial.",
        seedRate: "100-120 kg/ha for normal sowing; 125-150 kg/ha for late sowing.",
        interculturalOperations: "First irrigation at Crown Root Initiation (CRI) stage (20-25 days) is critical. Weed control using herbicides like 2,4-D or manual weeding at 30-35 days.",
        harvesting: "Harvest when grains become hard and straw becomes dry and brittle. Moisture content should be around 20%. Combine harvesters are commonly used.",
    },
    maize: {
        name: "Maize",
        scientificName: "Zea mays",
        type: "Cereal Grain",
        season: "Kharif & Rabi",
        image: "assets/images/crops/maize_crop_1767766661822.png",
        description: "Maize, or corn, is globally one of the most widely grown cereals. It is versatile, grown for food, feed, and fodder.",
        landPreparation: "Deep ploughing followed by 2-3 harrowings. Ridges and furrows method is best for water management. Good drainage is essential.",
        soilConservation: "Contour ploughing in hilly areas. Cover cropping to prevent soil erosion.",
        seedRate: "20-25 kg/ha for grain crop; 40-50 kg/ha for fodder crop.",
        interculturalOperations: "Earthing up at knee-high stage (30-35 DAS) to support plants and improve aeration. Critical stages for irrigation are tesselling and silking.",
        harvesting: "Harvest when cob sheath turns pale yellow and grains become hard. Moisture < 25%. De-husk and shell the grains.",
    },
    barley: {
        name: "Barley",
        scientificName: "Hordeum vulgare",
        type: "Cereal Grain",
        season: "Rabi",
        image: "assets/images/crops/barley_crop_1767804812949.png",
        description: "Barley is a major cereal grain grown in temperate climates globally. It is used as animal fodder, a source of fermentable material for beer, and a component of various foods.",
        landPreparation: "Similar to wheat, requires a fine seedbed. 2-3 ploughings followed by planking. Can tolerate saline/alkaline soils better than wheat.",
        soilConservation: "Stubble retention helps in moisture conservation and soil structure improvement.",
        seedRate: "85-100 kg/ha for irrigated; 100-125 kg/ha for rainfed or late sown conditions.",
        interculturalOperations: "Two weedings at 30 and 45 days after sowing. Needs less water than wheat (2-3 irrigations).",
        harvesting: "Harvest when straw turns yellow and grains become hard. To avoid shattering, harvest in early morning hours.",
    },
    sorghum: {
        name: "Sorghum (Jowar)",
        scientificName: "Sorghum bicolor",
        type: "Millet",
        season: "Kharif & Rabi",
        image: "assets/images/crops/sorghum.jpg",
        description: "Sorghum is a cereal grain that grows tall like corn. It is drought-tolerant and a staple food in many semi-arid regions.",
        landPreparation: "One deep summer ploughing followed by 2-3 harrowings. Conserve soil moisture for germination.",
        soilConservation: "Intercropping with legumes (pigeon pea, cowpea) improves soil fertility.",
        seedRate: "10-12 kg/ha for grain; 30-40 kg/ha for fodder.",
        interculturalOperations: "Thinning at 10-15 days to maintain population. Weed control is crucial in first 30 days.",
        harvesting: "Harvest when physiological maturity is reached (black layer formation). Earheads are harvested first, followed by stalks.",
    },
    pearl_millet: {
        name: "Pearl Millet (Bajra)",
        scientificName: "Pennisetum glaucum",
        type: "Millet",
        season: "Kharif",
        image: "assets/images/crops/pearl_millet.jpg",
        description: "Pearl Millet is the most widely grown type of millet. It is well adapted to production systems characterized by drought, low soil fertility, and high temperature.",
        landPreparation: "Fine tilth is required as seeds are small. 2-3 harrowings are sufficient.",
        soilConservation: "Minimum tillage recommended in sandy soils to prevent wind erosion.",
        seedRate: "4-5 kg/ha.",
        interculturalOperations: "Thinning within 2-3 weeks. Weeding at 20-25 days. Responds well to nitrogen application.",
        harvesting: "Harvest when earheads turn brown and grains become hard. Harvest debris is used as fodder.",
    },
    finger_millet: {
        name: "Finger Millet (Ragi)",
        scientificName: "Eleusine coracana",
        type: "Millet",
        season: "Kharif",
        image: "assets/images/crops/finger_millet.jpg",
        description: "Finger millet is an annual herbaceous plant widely grown as a cereal crop in the arid and semiarid areas in Africa and Asia. It is valued for its high calcium content.",
        landPreparation: "Plough 2-3 times to fine tilth. Prepare flat beds or ridges and furrows.",
        soilConservation: "Use of organic mulches conserves moisture.",
        seedRate: "5-10 kg/ha (drilling); 4-5 kg/ha (transplanting).",
        interculturalOperations: "Manual weeding twice, first at 20-25 days. Gap filling in transplanted crop.",
        harvesting: "Earheads ripen unevenly, so harvest is done in 2 stages. Cut the earheads with sickle.",
    },
    chickpea: {
        name: "Chickpea",
        scientificName: "Cicer arietinum",
        type: "Pulse",
        season: "Rabi",
        image: "assets/images/crops/chickpea.jpg",
        description: "Chickpea is a key pulse crop rich in protein. It is a cool season crop and sensitive to frost.",
        landPreparation: "Deep ploughing is not required. One pass of plough followed by harrowing. Rough seedbed is preferred for aeration.",
        soilConservation: "Deep rooting system helps improve soil structure.",
        seedRate: "75-100 kg/ha (Desi varieties); 100-120 kg/ha (Kabuli varieties).",
        interculturalOperations: "Nipping (removal of apical buds) at 30-40 days encourages branching. Weed control is critical.",
        harvesting: "Harvest when leaves turn reddish-brown and start shedding. Plants are pulled out or cut with sickle.",
    },
    pigeon_pea: {
        name: "Pigeon Pea (Arhar/Tur)",
        scientificName: "Cajanus cajan",
        type: "Pulse",
        season: "Kharif",
        image: "assets/images/crops/pigeon_pea.jpg",
        description: "Pigeon pea is a perennial legume from the family Fabaceae. It is a major source of protein and essential amino acids.",
        landPreparation: "Deep ploughing helps in root development. Ridges and furrows are suitable to avoid waterlogging.",
        soilConservation: "Excellent for preventing soil erosion due to deep root system. Fixes atmospheric nitrogen.",
        seedRate: "12-15 kg/ha.",
        interculturalOperations: "Two weedings in first 50 days. Thinning to maintain population. Needs protection from Pod Borer.",
        harvesting: "Harvest when 80% pods turn brown. Pods are harvested by cutting the whole plant or picking pods.",
    },
    green_gram: {
        name: "Green Gram (Moong)",
        scientificName: "Vigna radiata",
        type: "Pulse",
        season: "Summer & Kharif",
        image: "assets/images/crops/green_gram.jpg",
        description: "Green gram is a short duration pulse crop. It is widely cultivated for its high protein content and digestibility.",
        landPreparation: "1-2 ploughings followed by planking. Needs well-drained loamy soil.",
        soilConservation: "Excellent cover crop preventing soil erosion and weed growth.",
        seedRate: "20-25 kg/ha (Summer); 15-20 kg/ha (Kharif).",
        interculturalOperations: "One or two weedings within 30 days. Moisture stress during flowering affects yield.",
        harvesting: "Pod shattering is a problem, pick pods as they turn black. Usually 2-3 pickings required.",
    },
    black_gram: {
        name: "Black Gram (Urad)",
        scientificName: "Vigna mungo",
        type: "Pulse",
        season: "Kharif & Summer",
        image: "assets/images/crops/black_gram.jpg",
        description: "Black gram is grown for its seeds which are black in colour. It is used to make dal and is a key ingredient in idli/dosa batter.",
        landPreparation: "Similar to Green Gram. Fine seedbed free from clods.",
        soilConservation: "Improves soil fertility through biological nitrogen fixation.",
        seedRate: "20-25 kg/ha.",
        interculturalOperations: "Keep field weed-free for initial 30 days. Sensitive to water stagnation.",
        harvesting: "Harvest when pods turn black or brown. Uproot plants or cut with sickle.",
    },
    tomato: {
        name: "Tomato",
        scientificName: "Solanum lycopersicum",
        type: "Vegetable",
        season: "Year-round",
        image: "assets/images/crops/tomato.jpg",
        description: "Tomato is the world's largest vegetable crop. It is rich in Lycopene and Vitamin C.",
        landPreparation: "Plough 4-5 times. Well-decomposed FYM (25 t/ha) should be incorporated. Raise beds for good drainage.",
        soilConservation: "Mulching with plastic or straw conserve moisture and suppresses weeds.",
        seedRate: "350-400 g/ha (Varieties); 100-150 g/ha (Hybrids).",
        interculturalOperations: "Staking is needed for indeterminate varieties. Pruning of side shoots. Regular irrigation.",
        harvesting: "Harvest at different stages (mature green, breaker, red ripe) depending on market distance.",
    },
    potato: {
        name: "Potato",
        scientificName: "Solanum tuberosum",
        type: "Vegetable (Tuber)",
        season: "Rabi",
        image: "assets/images/crops/potato.jpg",
        description: "Potato is a starchy tuber and one of the most important food crops globally.",
        landPreparation: "Deep ploughing (20-25 cm). Soil should be loose and friable for tube development.",
        soilConservation: "Avoid soil compaction.",
        seedRate: "1500-2000 kg/ha (Tubers).",
        interculturalOperations: "Earthing up is most critical to cover developing tubers. Weed control before canopy closure.",
        harvesting: "Harvest when haulms (vines) dry up. Cut haulms 10-15 days before digging tubers to harden skin.",
    },
    onion: {
        name: "Onion",
        scientificName: "Allium cepa",
        type: "Vegetable (Bulb)",
        season: "Rabi & Kharif",
        image: "assets/images/crops/onion.jpg",
        description: "Onion is an indispensable culinary ingredient. It has a pungent taste and medicinal value.",
        landPreparation: "Plough to fine tilth. Incorporate organic manure. Prepare flat beds or ridges.",
        soilConservation: "Shallow rooted, so frequent light irrigation is needed.",
        seedRate: "8-10 kg/ha for seedlings; 20-25 kg/ha for sets.",
        interculturalOperations: "Weeding is critical as onions are poor competitors. Stop irrigation 15 days before harvest to prevent rotting.",
        harvesting: "Harvest when 50% " + "tops fall over (neck fall). Cure bulbs in shade/field for 3-4 days to increase shelf life.",
    },
    brinjal: {
        name: "Brinjal (Eggplant)",
        scientificName: "Solanum melongena",
        type: "Vegetable",
        season: "Year-round",
        image: "assets/images/crops/brinjal.jpg",
        description: "Brinjal is a popular vegetable in India, known as the 'King of Vegetables'. It comes in various shapes and colors.",
        landPreparation: "Deep ploughing. Thoroughly prepare field. Apply FYM.",
        soilConservation: "Crop rotation with non-solanaceous crops reduces soil-borne diseases.",
        seedRate: "375-400 g/ha.",
        interculturalOperations: "Transplanting 30-day old seedlings. Earthing up at 30 days. Control shoot and fruit borer.",
        harvesting: "Harvest when fruits are tender and glossy. Dull fruit indicates over-maturity.",
    },
    chilli: {
        name: "Chilli",
        scientificName: "Capsicum annuum",
        type: "Spice/Vegetable",
        season: "Year-round",
        image: "assets/images/crops/chilli_crop_1767766700215.png",
        description: "Chilli is grown for its pungent fruits which are used both green and ripe dry. India is a major exporter.",
        landPreparation: "Prepare fine tilth. Ridges and furrows are preferred to prevent waterlogging.",
        soilConservation: "Raised beds improve aeration and root health.",
        seedRate: "1.0-1.5 kg/ha.",
        interculturalOperations: "Transplanting 35-40 day old seedlings. Pinching of apical bud. Control leaf curl virus carriers (thrips/mites).",
        harvesting: "Green chilli: fully grown but tender. Dry chilli: fully ripe red fruits.",
    },
    cabbage: {
        name: "Cabbage",
        scientificName: "Brassica oleracea var. capitata",
        type: "Vegetable",
        season: "Rabi (Winter)",
        image: "assets/images/crops/cabbage.jpg",
        description: "Cabbage is a popular leafy vegetable grown for its compact head. It is rich in minerals and Vitamin C.",
        landPreparation: "Fine seedbed. Add adequate FYM. Avoid acidic soils (causes Club Root disease).",
        soilConservation: "Cover cropping between rows.",
        seedRate: "375-500 g/ha.",
        interculturalOperations: "Maintain constant moisture. Shallow hoeing to control weeds. Protect from Diamond Back Moth (DBM).",
        harvesting: "Harvest when heads are firm and compact. Delayed harvest leads to cracking of heads.",
    },
    cauliflower: {
        name: "Cauliflower",
        scientificName: "Brassica oleracea var. botrytis",
        type: "Vegetable",
        season: "Rabi (Winter)",
        image: "assets/images/crops/cauliflower.jpg",
        description: "Cauliflower is grown for its white tender curd (inflorescence). It is highly sensitive to temperature and soil conditions.",
        landPreparation: "Deep ploughing. Soil must be rich in organic matter. Add boron if soil is deficient.",
        soilConservation: "Balanced fertilization prevents physiological disorders.",
        seedRate: "350-400 g/ha (Early); 400-500 g/ha (Late).",
        interculturalOperations: "Blanching (covering curd with leaves) to maintain white colour. Critical irrigation during curd development.",
        harvesting: "Harvest when curds are compact and of market size. Over-maturity leads to ricey/fuzzy curds.",
    },
    sugarcane: {
        name: "Sugarcane",
        scientificName: "Saccharum officinarum",
        type: "Cash Crop",
        season: "Year-round",
        image: "assets/images/crops/sugarcane_crop_1767766682172.png",
        description: "Sugarcane is a long duration crop and the main source of sugar. It thrives in hot and humid climates.",
        landPreparation: "Deep ploughing (25-30 cm) is essential. Form ridges and furrows.",
        soilConservation: "Trash mulching conserves moisture and adds organic matter.",
        seedRate: "35,000 - 40,000 three-budded setts/ha.",
        interculturalOperations: "Earthing up to prevent lodging. Propping (tying canes together). Detrashing (removing dry leaves).",
        harvesting: "Harvest when brix (sugar content) reading is 18-20%. Cut canes at ground level.",
    },
    cotton: {
        name: "Cotton",
        scientificName: "Gossypium spp.",
        type: "Fiber/Cash Crop",
        season: "Kharif",
        image: "assets/images/crops/cotton.jpg",
        description: "Cotton is known as 'White Gold'. It is the most important fiber crop and provides seed oil.",
        landPreparation: "Deep ploughing to break hard pans. Fine tilth for good germination.",
        soilConservation: "Contour sowing in sloping lands.",
        seedRate: "10-15 kg/ha (Desi); 2-3 kg/ha (Bt Hybrids).",
        interculturalOperations: "Thinning to one plant per hill. Topping (removal of terminal bud) to encourage boll formation. IPM for Bollworms.",
        harvesting: "Pick fully burst bolls. Pick clean cotton free from dry leaves/trash.",
    },
    groundnut: {
        name: "Groundnut (Peanut)",
        scientificName: "Arachis hypogaea",
        type: "Oilseed",
        season: "Kharif & Summer",
        image: "assets/images/crops/groundnut.jpg",
        description: "Groundnut is an important oilseed and food crop. It matures underground (geocarpic nature).",
        landPreparation: "Plough to fine tilth. Apply gypsum for pod development.",
        soilConservation: "Cover crop. Fixes atmospheric nitrogen.",
        seedRate: "100-120 kg/ha (kernels).",
        interculturalOperations: "Weeding is crucial before pegging (45 days). Do not disturb soil after peg formation to avoid damage.",
        harvesting: "Harvest when leaves yellow and inner shell turns black. Dig out pods carefully.",
    },
    soybean: {
        name: "Soybean",
        scientificName: "Glycine max",
        type: "Oilseed/Pulse",
        season: "Kharif",
        image: "assets/images/crops/soybean.jpg",
        description: "Soybean is the richest source of plant protein (40%) and oil (20%). It is known as the 'Wonder Crop'.",
        landPreparation: "Deep summer ploughing. Prepare seedbed with good drainage (raised beds preferred).",
        soilConservation: "Excellent rotation crop. Improves soil fertility.",
        seedRate: "65-75 kg/ha.",
        interculturalOperations: "Weed free environment for first 45 days. Inoculation with Rhizobium culture is beneficial.",
        harvesting: "Harvest when leaves shed and pods assume colour (yellow/black). Moisture content 15-17%.",
    },
    banana: {
        name: "Banana",
        scientificName: "Musa spp.",
        type: "Fruit",
        season: "Year-round",
        image: "assets/images/crops/banana.jpg",
        description: "Banana is a globally important fruit crop, rich in potassium and energy. Propagated through suckers or tissue culture.",
        landPreparation: "Pit digging (1.5ft x 1.5ft x 1.5ft). Fill with topsoil and FYM.",
        soilConservation: "Intercropping with short duration vegetables in early stages.",
        seedRate: "2,500 - 3,000 plants/ha (Spacing 1.8m x 1.8m).",
        interculturalOperations: "Desuckering (removal of unwanted suckers). Propping (checking wind damage). Mattocking after harvest.",
        harvesting: "Harvest bunches when ridges on fruit disappear and become rounded. 11-14 months after planting.",
    },
    mango: {
        name: "Mango",
        scientificName: "Mangifera indica",
        type: "Fruit",
        season: "Summer",
        image: "assets/images/crops/mango.jpg",
        description: "Mango is the 'King of Fruits'. It is a long-lived evergreen tree native to India.",
        landPreparation: "Deep ploughing. Dig pits (1m x 1m x 1m) during summer and fill with manure mixture.",
        soilConservation: "Orchard floor management with cover crops.",
        seedRate: "100-150 trees/ha (Spacing 10m x 10m). High density planting varies.",
        interculturalOperations: "Training and pruning for shape. Regular irrigation for young plants. Protection from hopper and powdery mildew.",
        harvesting: "Harvest when fruit shoulders rise and colour breaks. Hand picking with harvester tools to avoid damage.",
    },
    papaya: {
        name: "Papaya",
        scientificName: "Carica papaya",
        type: "Fruit",
        season: "Year-round",
        image: "assets/images/crops/papaya.jpg",
        description: "Papaya is a fast growing, short-lived tropical fruit tree. It is a rich source of Vitamin A and Papain enzyme.",
        landPreparation: "Well-drained soil is crucial. Water stagnation kills the plant. Raised beds recommended.",
        soilConservation: "Avoid deep tillage near roots.",
        seedRate: "250-300 g/ha (seeds).",
        interculturalOperations: "Thinning to one plant per pit. Earthing up. Ring method irrigation. Removal of viruses infected plants.",
        harvesting: "Harvest when skin shows yellow streaks (colour break). Fruits ripen within days of harvest.",
    }
};

// Filter crops based on search input (Updated for landing page)
function filterCropsLanding() {
    const searchTerm = document.getElementById('cropSearchLanding').value.toLowerCase();
    const cropCards = document.querySelectorAll('.crop-card-landing');

    cropCards.forEach(card => {
        const cropName = card.querySelector('.crop-card-title-landing').textContent.toLowerCase();
        if (cropName.includes(searchTerm)) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}
